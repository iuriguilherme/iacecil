{% extends "default_layout.html" %}
{% block body %}
<h1>Information about current iteration of {{ title }}</h1>
<div class="row">
<input type="text" id="message">
<button>Send</button>
<ul name="alvo"></ul>
<script type="text/javascript">
    var ws = new WebSocket('ws://' + document.domain + ':' + location.port + '/ws');
    ws.onmessage = function (event) {
        var messages_dom = document.getElementsByName('alvo')[0];
        var message_dom = document.createElement('li');
        var content_dom = document.createTextNode('Received: ' + event.data);
        message_dom.appendChild(content_dom);
        messages_dom.appendChild(message_dom);
    };

    var button = document.getElementsByTagName('button')[0];
    button.onclick = function() {
        var content = document.getElementsByTagName('input')[0].value;
        ws.send(content);
    };
</script>
</div>
<hr>
<p>Par&aacute;grafo</p>
<p>&nbsp;</p>
{% endblock %}
